(function(t){function e(e){for(var n,s,a=e[0],u=e[1],l=e[2],f=0,d=[];f<a.length;f++)s=a[f],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);i&&i(e);while(d.length)d.shift()();return c.push.apply(c,l||[]),r()}function r(){for(var t,e=0;e<c.length;e++){for(var r=c[e],n=!0,a=1;a<r.length;a++){var u=r[a];0!==o[u]&&(n=!1)}n&&(c.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},o={app:0},c=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var i=u;c.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0797":function(t,e,r){},4476:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),o={class:"container"};function c(t,e){var r=Object(n["v"])("router-view");return Object(n["o"])(),Object(n["d"])("div",o,[Object(n["f"])(r)])}r("aa8b");var s=r("6b0d"),a=r.n(s);const u={},l=a()(u,[["render",c]]);var i=l,f=r("6c02"),d=function(t){return Object(n["r"])("data-v-6c62dd6e"),t=t(),Object(n["p"])(),t},b={class:"home"},h=d((function(){return Object(n["e"])("h1",null,"Shortit",-1)}));function p(t,e,r,o,c,s){var a=Object(n["v"])("Shortener"),u=Object(n["v"])("Stats");return Object(n["o"])(),Object(n["d"])("div",b,[h,Object(n["f"])(a,{onShorten:s.shorten,showShorted:c.showShorted,shortedUrl:c.shortedUrl,fullUrl:c.fullUrl},null,8,["onShorten","showShorted","shortedUrl","fullUrl"]),Object(n["f"])(u,{stats:c.stats},null,8,["stats"])])}var O=r("1da1");r("96cf"),r("d3b7"),r("e9c4");function j(t,e,r,o,c,s){var a=Object(n["v"])("MainInput"),u=Object(n["v"])("ShortedUrl");return Object(n["o"])(),Object(n["d"])(n["a"],null,[Object(n["f"])(a,{class:"row",onShorten:s.shorten},null,8,["onShorten"]),Object(n["C"])(Object(n["f"])(u,{short:r.shortedUrl,full:r.fullUrl},null,8,["short","full"]),[[n["A"],r.showShorted]])],64)}var v=function(t){return Object(n["r"])("data-v-20c0022f"),t=t(),Object(n["p"])(),t},m=v((function(){return Object(n["e"])("input",{type:"submit",value:"Shorten",class:"btn col-3"},null,-1)}));function S(t,e,r,o,c,s){return Object(n["o"])(),Object(n["d"])("form",{onSubmit:e[1]||(e[1]=function(){return s.onSubmit&&s.onSubmit.apply(s,arguments)}),class:"row"},[Object(n["C"])(Object(n["e"])("input",{class:"full-url-input col-9",type:"text","onUpdate:modelValue":e[0]||(e[0]=function(t){return c.fullUrl=t}),name:"fullUrl",placeholder:"Link to shorten"},null,512),[[n["z"],c.fullUrl]]),m],32)}var y={name:"MainInput",data:function(){return{fullUrl:""}},methods:{onSubmit:function(t){t.preventDefault();var e={fullUrl:this.fullUrl};this.$emit("shorten",e),this.fullUrl=""}}};r("dc43");const w=a()(y,[["render",S],["__scopeId","data-v-20c0022f"]]);var x=w,U={class:"row"},g={class:"col-12"},k={class:"full-url"},_={class:"short-url"},C=["href"];function P(t,e,r,o,c,s){var a=Object(n["v"])("Button");return Object(n["o"])(),Object(n["d"])("div",U,[Object(n["e"])("div",g,[Object(n["e"])("span",k,Object(n["x"])(r.full),1),Object(n["e"])("span",null,[Object(n["e"])("span",_,[Object(n["e"])("a",{href:r.short},Object(n["x"])(r.short),9,C)]),Object(n["e"])("span",null,[Object(n["f"])(a,{onBtnClick:s.copy,text:"Copy"},null,8,["onBtnClick"])])])])])}function I(t,e,r,o,c,s){return Object(n["o"])(),Object(n["d"])("button",{onClick:e[0]||(e[0]=function(t){return s.onClick()}),class:"btn"},Object(n["x"])(r.text),1)}var B={name:"Button",props:{text:String,color:String},methods:{onClick:function(){this.$emit("btn-click")}}};const M=a()(B,[["render",I]]);var R=M,T={name:"ShortedUrl",components:{Button:R},props:{full:String,short:String},methods:{copy:function(){var t=document.getElementsByClassName("short-url")[0];navigator.clipboard.writeText(t.innerText)}}};r("6c19");const H=a()(T,[["render",P],["__scopeId","data-v-4c3aa511"]]);var J=H,$={name:"Shortener",props:{showShorted:Boolean,fullUrl:String,shortedUrl:String},data:function(){return{short:this.shortedUrl,full:this.fullUrl}},components:{MainInput:x,ShortedUrl:J},methods:{shorten:function(t){this.$emit("shorten",t)}},emits:["shorten"]};const A=a()($,[["render",j]]);var L=A,N=function(t){return Object(n["r"])("data-v-5b4052e4"),t=t(),Object(n["p"])(),t},z=N((function(){return Object(n["e"])("tr",null,[Object(n["e"])("th",null,"URL"),Object(n["e"])("th",null,"Shortened"),Object(n["e"])("th",null,"Hits")],-1)}));function D(t,e,r,o,c,s){var a=Object(n["v"])("Stat");return Object(n["o"])(),Object(n["d"])("table",null,[z,(Object(n["o"])(!0),Object(n["d"])(n["a"],null,Object(n["u"])(r.stats,(function(t){return Object(n["o"])(),Object(n["d"])("tr",{key:t._id},[Object(n["f"])(a,{stat:t},null,8,["stat"])])})),128))])}var E={class:"stats-url col-10"},V={class:"stats-short"},q=["href"],F={class:"stats-full"},G={class:"stats-shortened col-1"},K={class:"stats-hits col-1"};function Q(t,e,r,o,c,s){return Object(n["o"])(),Object(n["d"])(n["a"],null,[Object(n["e"])("td",E,[Object(n["e"])("span",V,[Object(n["e"])("a",{href:"https://crlnm.com/l/"+r.stat.short},Object(n["x"])("crlnm.com/l/".concat(r.stat.short)),9,q)]),Object(n["e"])("span",F,Object(n["x"])(r.stat.full),1)]),Object(n["e"])("td",G,Object(n["x"])(r.stat.shortened),1),Object(n["e"])("td",K,Object(n["x"])(r.stat.hits),1)],64)}var W={name:"Stat",props:{stat:Object}};r("ddb7");const X=a()(W,[["render",Q],["__scopeId","data-v-5d1baa17"]]);var Y=X,Z={name:"Stats",props:{stats:Array},components:{Stat:Y}};r("da88");const tt=a()(Z,[["render",D],["__scopeId","data-v-5b4052e4"]]);var et=tt,rt={name:"Home",components:{Shortener:L,Stats:et},data:function(){return{stats:[],showShorted:!1,shortedUrl:"",fullUrl:""}},methods:{shorten:function(t){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch("/api/url",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)});case 2:if(n=r.sent,n.ok){r.next=6;break}return console.error("short url post error"),r.abrupt("return");case 6:return r.next=8,n.json();case 8:return o=r.sent,e.fullUrl=o.data.full,e.shortedUrl="https://crlnm.com/l/"+o.data.short,e.showShorted=!0,r.abrupt("return",o);case 13:case"end":return r.stop()}}),r)})))()},fetchStats:function(){return Object(O["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/stats",{method:"POST",headers:{"Content-type":"application/json"},body:""});case 2:if(e=t.sent,e.ok){t.next=6;break}return console.error("stats fetch error"),t.abrupt("return");case 6:return t.next=8,e.json();case 8:return r=t.sent,t.abrupt("return",r.data.stats);case 10:case"end":return t.stop()}}),t)})))()}},created:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchStats();case 2:t.stats=e.sent;case 3:case"end":return e.stop()}}),e)})))()}};r("af10");const nt=a()(rt,[["render",p],["__scopeId","data-v-6c62dd6e"]]);var ot=nt,ct=[{path:"/",name:"Home",component:ot}],st=Object(f["a"])({history:Object(f["b"])("/"),routes:ct}),at=st;Object(n["c"])(i).use(at).mount("#app")},"595a":function(t,e,r){},"6c19":function(t,e,r){"use strict";r("d447")},"8bec":function(t,e,r){},"8f49":function(t,e,r){},aa8b:function(t,e,r){"use strict";r("595a")},af10:function(t,e,r){"use strict";r("4476")},d447:function(t,e,r){},da88:function(t,e,r){"use strict";r("0797")},dc43:function(t,e,r){"use strict";r("8f49")},ddb7:function(t,e,r){"use strict";r("8bec")}});
//# sourceMappingURL=app.26bac079.js.map